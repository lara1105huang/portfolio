import{E,a as x,c as C,b as T}from"./el-input-e486841c.js";import{bH as S,r as i,g as U,bA as $,bI as A,J as b,d as B,bJ as q,a as I,c as N,b as l,e as d,k as u,E as s,H as w,t as P,l as k,v as h}from"./index-766b67b2.js";import{_ as D}from"./Navbar.vue_vue_type_style_index_0_lang-97102f54.js";const H="/assets/56693-72b8adc0.png",J=S("auth",()=>{const F=i(),c=i(""),a=i({email:"",password:"",checkin:null}),o=U({email:[{required:!0,message:"電子郵件不能為空",trigger:"change"},{type:"email",required:!0,message:"電子郵件格式不正確",trigger:"blur"}],password:[{required:!0,message:"密碼不能為空",trigger:"blur"},{mim:6,max:30,message:"長度6~30個字符之間",trigger:"blur"}]}),f=$(),r=i(""),y=i(""),_=async e=>{e&&await e.validate((m,p)=>{m?A(f,a.value.email,a.value.password).then(t=>{console.log(t.user.accessToken),t.user.accessToken.length>0&&(b({message:"註冊成功！",type:"success"}),a.value={})}).catch(t=>{console.log(t.code),t.code=="auth/email-already-in-use"?b.error("電子郵件已經被使用"):t.code=="auth/weak-password"&&b.error("密碼最少6個字符")}):console.log("fields",p)})},g=i(""),v=i(!1);return{title:c,ruleFormRef:F,formUser:a,userFormRules:o,seePsd:v,addRegister:_,resetForm:e=>{e&&e.resetFields()},token:g,error:r,dataT:y}}),M={class:"register_page"},W=d("img",{src:H},null,-1),j=d("div",{class:"headline"},"註冊",-1),z=["value"],G={class:"btn_area"},Q=B({__name:"Register",setup(F){const c=J(),{ruleFormRef:a,formUser:o,userFormRules:f,seePsd:r,error:y,dataT:_}=q(c),{addRegister:g,resetForm:v}=c;return(R,e)=>{const m=E,p=x,t=C,V=T;return I(),N("div",null,[l(D),d("div",M,[W,j,l(V,{ref_key:"ruleFormRef",ref:a,model:s(o),rules:s(f),class:"register_in"},{default:u(()=>[l(p,{label:"帳號",prop:"email"},{default:u(()=>[l(m,{modelValue:s(o).email,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).email=n)},null,8,["modelValue"])]),_:1}),l(p,{label:"密碼",prop:"password"},{default:u(()=>[l(m,{class:"addmin_pad",type:"password",modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=n=>s(o).password=n)},null,8,["modelValue"]),k(d("i",{class:"fa-solid fa-eye-slash",onClick:e[2]||(e[2]=n=>r.value=!0)},null,512),[[h,!s(r)]]),k(d("i",{class:"fa-solid fa-eye",onClick:e[3]||(e[3]=n=>r.value=!1)},null,512),[[h,s(r)]]),k(d("input",{type:"text",class:"see_pad",value:s(o).password},null,8,z),[[h,s(r)]])]),_:1}),d("div",G,[l(t,{class:"btn_cancel",onClick:e[4]||(e[4]=n=>s(v)(s(a)))},{default:u(()=>[w("取消")]),_:1}),l(t,{onClick:e[5]||(e[5]=n=>s(g)(s(a))),class:"addSave"},{default:u(()=>[w("註冊")]),_:1})])]),_:1},8,["model","rules"]),w(" "+P(s(_)),1)])])}}});export{Q as default};
